<!-- loja-produtos.component.html -->
<div class="container">
    <div class="mt-3">
        <h4>Seja bem vindo a loja de produtos.</h4>
        Selecione o produto para incluí-lo no seu carrinho de compras.
        
        <!-- Use o componente de barra de pesquisa -->
        <app-search-bar (searchEvent)="filterProducts($event)"></app-search-bar>
        
        <div class="row mt-3">
            <div class="col-md-4" *ngFor="let p of filteredProdutos">
                <div class="card m-2" style="margin-bottom: 20px; height: 400px;">
                    <div class="card-body text-center">
                        <h4>{{ p.nome }}</h4>
                        <h5>Preço: {{ 'R$ ' + (p.preco | number: '1.2-2') }}</h5>

                        <img [src]="'data:image/jpeg;base64,' 
                        + p.foto" style="max-height: 200px; width: auto;" class="m-3 img-fluid" />

                        <div class="mt-3 d-grid">
                            <a (click)="onDetails(p.id)" class="btn btn-primary">
                                Adicionar ao carrinho
                            </a>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>